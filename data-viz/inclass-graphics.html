<!doctype html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>School shooting data visualization</title>
  <!-- meta elements -->
  <meta name="description" content="Graphic renderings of school shootings">
  <meta name="author" content="Sean McGoey">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <!-- Load c3.css -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.6.8/c3.min.css" rel="stylesheet">
  <!-- Load our CSS -->
  <link rel="stylesheet" href="style.css">
  <!-- Load d3.js and c3.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.6.8/c3.min.js"></script>
</head>

<body>

  <!-- container grid -->
  <div class="container">
    <br>
    <div class="graphic-container">
      <iframe src='https://cdn.knightlab.com/libs/timeline3/latest/embed/index.html?source=13PPETAZQJ19BieTyCkdCrDXac8Ml2gBqktxR7b9cooc&font=Default&lang=en&initial_zoom=2&height=650' width='100%' height='650' webkitallowfullscreen mozallowfullscreen allowfullscreen frameborder='0'></iframe>
    </div>
    <br>
    <div class="graphic-container">
      <h2>Examining the carnage.</h2>
      <p><em>School shooting incidents and injuries are on the rise, but deaths don't always follow</em></p>
      <br>
      <div id="killedByYearChart"></div>
      <p class="attribution">Source: Data collected by The Washington Post</p>
    </div>
    <br>
    <div class="graphic-container">
      <h2>Where do school shootings occur?</h2>
      <p><em>Nearly half of school shootings take place in cities</em></p>
      <br>
      <div id="shootingsLocationChart"></div>
      <p class="attribution">Source: Data collected by The Washington Post</p>
    </div>
    <br>
    <div class="graphic-container">
      <h2>What race are school shooters likely to be?</h2>
      <p><em>Almost 60% of school shooters are white</em></p>
      <br>
      <div id="shooterRaceChart"></div>
      <p class="attribution">Source: Data collected by The Washington Post</p>
    </div>
    <br>
  </div>

  <!-- c3 script for charts-->
  <script type="text/javascript">
    //LINE CHART
    var chart = c3.generate({
      bindto: '#killedByYearChart',
      data: {
        x: 'x',
        columns: [
          ['x', 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018],
          ['Number of deaths', 14, 4, 5, 1, 5, 3, 9, 9, 1, 5, 1, 3, 2, 32, 3, 6, 0, 2, 5, 21],
          ['Number of injuries', 35, 3, 22, 7, 7, 9, 17, 16, 17, 5, 4, 6, 9, 8, 13, 14, 2, 18, 15, 44],
          ['Number of incidents', 7, 12, 13, 5, 11, 9, 13, 15, 10, 9, 9, 9, 7, 11, 13, 16, 7, 13, 14, 12],
        ]
      },
      color: {
        pattern: ['#2a8dc5', '#455380', '#ee6a4b', '#60c4b2', '#973895']
      }
    });
    //BAR CHART
    var chart2 = c3.generate({
      bindto: '#shootingsLocationChart',
      data: {
        columns: [
          ['City', 101],
          ['Suburb', 58],
          ['Town', 24],
          ['Rural', 31],
        ],
        type: 'bar'
      },
      color: {
        pattern: ['#2a8dc5', '#455380', '#ee6a4b', '#60c4b2', '#973895', '#fae255', '#af3d46', '#f8bb63', '#818281']
      }
    });
    //PIE CHART
    var chart3 = c3.generate({
      bindto: '#shooterRaceChart',
      data: {
        // iris data from R
        columns: [
          ['Asian', 0.95],
          ['American Indian', 2.86],
          ['Black', 33.33],
          ['Hispanic', 5.71],
          ['White', 57.14],
        ],
        type : 'pie',
        onclick: function (d, i) { console.log("onclick", d, i); },
        onmouseover: function (d, i) { console.log("onmouseover", d, i); },
        onmouseout: function (d, i) { console.log("onmouseout", d, i); }
      },
      color: {
        pattern: ['#2a8dc5', '#455380', '#ee6a4b', '#60c4b2', '#973895']
      }
    });
  </script>

  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>

</html>
